#include <SFML/Graphics.hpp>
#include <SFML/Graphics/Rect.hpp>
#include <vector>
#include "Personaje.h"
#include "Biblioteca.h"
#include "MapaPrincipal.h"
#include "TileMap.h"
#include <iostream>
#include <optional>

constexpr float RADIO_INTERACCION_RULETA = 100.0f;

Biblioteca::Biblioteca(GestorEstados* gestor, sf::RenderWindow& window, Personaje& personaje)
    : Estado(gestor, personaje),
      m_window(window),
      m_personaje(personaje),
      m_ancho(120),
      m_alto(67),
      m_tilemapBase() {

    if(m_ruleta.cargar("assets/Spinwheel/spinwheel1.png")) {
        m_ruleta.setPosition(960.0f, 340.0f);
        std::cout << "✓ Ruleta cargada en posición: (" << m_ruleta.getPosition().x
                << ", " << m_ruleta.getPosition().y << ")" << std::endl;
    } else {
        std::cerr << "✗ ERROR: No se pudo cargar la ruleta" << std::endl;
    }

    m_areaSalida.setSize(sf::Vector2f(62, 32));
    m_areaSalida.setPosition({960, 1020});
    m_areaSalida.setFillColor(sf::Color(255, 0, 0, 128));

    m_personaje.setPosition(962, 950);

    inicializarDatosMapa();
}

void Biblioteca::inicializarDatosMapa() {
    m_tilesBase = {
          0,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  2,
         19, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 21,
         19, 20, 20, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 20, 20, 20, 20, 20, 20, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 20, 20, 20, 20, 20, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 20, 20, 20, 20, 20, 20, 20, 20, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 20, 20, 20, 20, 20, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 20, 20, 21,
         19, 20, 50, 76, 77, 78, 79, 80, 76, 77, 78, 79, 80, 76, 77, 78, 79, 80, 76, 77, 78, 79, 80, 69, 20, 20, 20, 20, 50, 76, 77, 78, 79, 80, 76, 77, 78, 79, 80, 76, 77, 78, 79, 80, 76, 77, 78, 79, 80, 69, 20, 20, 20, 50, 76, 77, 78, 79, 80, 76, 77, 78, 79, 80, 76, 77, 78, 79, 80, 76, 77, 78, 79, 80, 69, 20, 20, 20, 20, 20, 20, 50, 76, 77, 78, 79, 80, 76, 77, 78, 79, 80, 76, 77, 78, 79, 80, 76, 77, 78, 79, 80, 69, 20, 20, 20, 50, 76, 77, 78, 79, 80, 76, 77, 78, 79, 80, 69, 20, 21,
         19, 20, 50, 95, 96, 97, 98, 99, 95, 96, 97, 98, 99, 95, 96, 97, 98, 99, 95, 96, 97, 98, 99, 69, 20, 20, 20, 20, 50, 95, 96, 97, 98, 99, 95, 96, 97, 98, 99, 95, 96, 97, 98, 99, 95, 96, 97, 98, 99, 69, 20, 20, 20, 50, 95, 96, 97, 98, 99, 95, 96, 97, 98, 99, 95, 96, 97, 98, 99, 95, 96, 97, 98, 99, 69, 13, 14, 15, 16, 17, 18, 50, 95, 96, 97, 98, 99, 95, 96, 97, 98, 99, 95, 96, 97, 98, 99, 95, 96, 97, 98, 99, 69, 20, 20, 20, 50, 95, 96, 97, 98, 99, 95, 96, 97, 98, 99, 69, 20, 21,
         19, 20, 50,114,115,116,117,118,114,115,116,117,118,114,115,116,117,118,114,115,116,117,118, 69, 20, 20, 20, 20, 50,114,115,116,117,118,114,115,116,117,118,114,115,116,117,118,114,115,116,117,118, 69, 20, 20, 20, 50,114,115,116,117,118,114,115,116,117,118,114,115,116,117,118,114,115,116,117,118, 69, 32, 33, 34, 35, 36, 37, 50,114,115,116,117,118,114,115,116,117,118,114,115,116,117,118,114,115,116,117,118, 69, 20, 20, 20, 50,114,115,116,117,118,114,115,116,117,118, 69, 20, 21,
         19, 20, 50,133,134,135,136,137,133,134,135,136,137,133,134,135,136,137,133,134,135,136,137, 69, 20, 20, 20, 20, 50,133,134,135,136,137,133,134,135,136,137,133,134,135,136,137,133,134,135,136,137, 69, 20, 20, 20, 50,133,134,135,136,137,133,134,135,136,137,133,134,135,136,137,133,134,135,136,137, 69, 51, 52, 53, 54, 55, 56, 50,133,134,135,136,137,133,134,135,136,137,133,134,135,136,137,133,134,135,136,137, 69, 20, 20, 20, 50,133,134,135,136,137,133,134,135,136,137, 69, 20, 21,
         19, 20, 50,152,153,154,155,156,152,153,154,155,156,152,153,154,155,156,152,153,154,155,156, 69, 20, 20, 20, 20, 50,152,153,154,155,156,152,153,154,155,156,152,153,154,155,156,152,153,154,155,156, 69, 20, 20, 20, 50,152,153,154,155,156,152,153,154,155,156,152,153,154,155,156,152,153,154,155,156, 69, 70, 71, 72, 73, 74, 75, 50,152,153,154,155,156,152,153,154,155,156,152,153,154,155,156,152,153,154,155,156, 69, 20, 20, 20, 50,152,153,154,155,156,152,153,154,155,156, 69, 20, 21,
         19, 20, 50,171,172,173,174,175,171,172,173,174,175,171,172,173,174,175,171,172,173,174,175, 69, 20, 20, 20, 20, 50,171,172,173,174,175,171,172,173,174,175,171,172,173,174,175,171,172,173,174,175, 69, 20, 20, 20, 50,171,172,173,174,175,171,172,173,174,175,171,172,173,174,175,171,172,173,174,175, 69, 89, 90, 91, 92, 93, 94, 50,171,172,173,174,175,171,172,173,174,175,171,172,173,174,175,171,172,173,174,175, 69, 20, 20, 20, 50,171,172,173,174,175,171,172,173,174,175, 69, 20, 21,
         19, 20, 50,190,191,192,193,194,190,191,192,193,194,190,191,192,193,194,190,191,192,193,194, 69, 20, 20, 20, 20, 50,190,191,192,193,194,190,191,192,193,194,190,191,192,193,194,190,191,192,193,194, 69, 20, 20, 20, 50,190,191,192,193,194,190,191,192,193,194,190,191,192,193,194,190,191,192,193,194, 69, 20, 20, 20, 20, 20, 20, 50,190,191,192,193,194,190,191,192,193,194,190,191,192,193,194,190,191,192,193,194, 69, 20, 20, 20, 50,190,191,192,193,194,190,191,192,193,194, 69, 20, 21,
         19, 20, 50,209,210,211,212,213,209,210,211,212,213,209,210,211,212,213,209,210,211,212,213,131, 31, 31, 31, 31,132,209,210,211,212,213,209,210,211,212,213,209,210,211,212,213,209,210,211,212,213,131, 31, 31, 31,132,209,210,211,212,213,209,210,211,212,213,209,210,211,212,213,209,210,211,212,213,131, 31, 31, 31, 31, 31, 31,132,209,210,211,212,213,209,210,211,212,213,209,210,211,212,213,209,210,211,212,213,131, 31, 31, 31,132,209,210,211,212,213,209,210,211,212,213, 69, 20, 21,
         19, 20, 50,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109, 69, 20, 21,
         19, 20, 50,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128, 69, 20, 21,
         19, 20, 50,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147, 69, 20, 21,
         19, 20, 50,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166, 69, 20, 21,
         19, 20, 50,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109, 69, 20, 21,
         19, 20, 50,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128, 69, 20, 21,
         19, 20, 50,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147, 69, 20, 21,
         19, 20, 20, 12, 12, 12, 12, 12, 12, 12,113,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,112, 12, 12, 12, 12, 12, 12, 12, 20, 20, 21,
         19, 20, 20, 20, 20, 20, 20, 20, 20, 20, 50,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109, 69, 20, 20, 20, 20, 20, 20, 20, 20, 20, 21,
         19, 20, 20, 20, 20, 20, 20, 20, 20, 20, 50,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128, 69, 20, 20, 20, 20, 20, 20, 20, 20, 20, 21,
         19, 20, 20, 31, 31, 31, 31, 31, 31, 31,132,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,  3,  4,  4,  4,  4,  4,  4,  5,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,  3,  4,  4,  4,  4,  4,  4,  5,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,131, 31, 31, 31, 31, 31, 31, 31, 20, 20, 21,
         19, 20, 50, 81, 82, 83, 84,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165, 22, 23, 23, 23, 23, 23, 23, 24,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165, 22, 23, 23, 23, 23, 23, 23, 24,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166, 81, 82, 83, 84, 69, 20, 21,
         19, 20, 50,100,101,102,103,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,  6,  7,  8, 22, 23, 23, 23, 23, 23, 23, 24,  9, 10, 11,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,  6,  7,  8, 22, 23, 23, 23, 23, 23, 23, 24,  9, 10, 11,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,100,101,102,103, 69, 20, 21,
         19, 20, 50,119,120,121,122,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128, 25, 26, 27, 22, 23, 23, 23, 23, 23, 23, 24, 28, 29, 30,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128, 25, 26, 27, 22, 23, 23, 23, 23, 23, 23, 24, 28, 29, 30,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,119,120,121,122, 69, 20, 21,
         19, 20, 50,138,139,140,141,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147, 44, 45, 46, 22, 23, 23, 23, 23, 23, 23, 24, 47, 48, 49,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147, 44, 45, 46, 22, 23, 23, 23, 23, 23, 23, 24, 47, 48, 49,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,138,139,140,141, 69, 20, 21,
         19, 20, 50,157,158,159,160,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166, 63, 64, 65, 22, 23, 23, 23, 23, 23, 23, 24, 66, 67, 68,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166, 63, 64, 65, 22, 23, 23, 23, 23, 23, 23, 24, 66, 67, 68,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,157,158,159,160, 69, 20, 21,
         19, 20, 50,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108, 22, 23, 23, 23, 23, 23, 23, 24,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108, 22, 23, 23, 23, 23, 23, 23, 24,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109, 69, 20, 21,
         19, 20, 50,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127, 22, 23, 23, 23, 23, 23, 23, 24,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127, 22, 23, 23, 23, 23, 23, 23, 24,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128, 69, 20, 21,
         19, 20, 50,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146, 22, 23, 23, 23, 23, 23, 23, 24,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146, 22, 23, 23, 23, 23, 23, 23, 24,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147, 69, 20, 21,
         19, 20, 50,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165, 22, 23, 23, 23, 23, 23, 23, 24,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165, 22, 23, 23, 23, 23, 23, 23, 24,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166, 69, 20, 21,
         19, 20, 50,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108, 22, 23, 23, 23, 23, 23, 23, 24,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108, 22, 23, 23, 23, 23, 23, 23, 24,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109, 69, 20, 21,
         19, 20, 50,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127, 22, 23, 23, 23, 23, 23, 23, 24,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127, 22, 23, 23, 23, 23, 23, 23, 24,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128, 69, 20, 21,
         19, 20, 50,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146, 22, 23, 23, 23, 23, 23, 23, 24,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146, 22, 23, 23, 23, 23, 23, 23, 24,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147, 69, 20, 21,
         19, 20, 50,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,  6,  7,  8, 22, 23, 23, 23, 23, 23, 23, 24,  9, 10, 11,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,  6,  7,  8, 22, 23, 23, 23, 23, 23, 23, 24,  9, 10, 11,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166, 69, 20, 21,
         19, 20, 50,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109, 25, 26, 27, 22, 23, 23, 23, 23, 23, 23, 24, 28, 29, 30,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109, 25, 26, 27, 22, 23, 23, 23, 23, 23, 23, 24, 28, 29, 30,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109, 69, 20, 21,
         19, 20, 50,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128, 44, 45, 46, 22, 23, 23, 23, 23, 23, 23, 24, 47, 48, 49,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128, 44, 45, 46, 22, 23, 23, 23, 23, 23, 23, 24, 47, 48, 49,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128, 69, 20, 21,
         19, 20, 50,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147, 63, 64, 65, 22, 23, 23, 23, 23, 23, 23, 24, 66, 67, 68,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147, 63, 64, 65, 22, 23, 23, 23, 23, 23, 23, 24, 66, 67, 68,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147, 69, 20, 21,
         19, 20, 50,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165, 22, 23, 23, 23, 23, 23, 23, 24,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165, 22, 23, 23, 23, 23, 23, 23, 24,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166, 69, 20, 21,
         19, 20, 50,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108, 22, 23, 23, 23, 23, 23, 23, 24,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108, 22, 23, 23, 23, 23, 23, 23, 24,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109, 69, 20, 21,
         19, 20, 50,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127, 22, 23, 23, 23, 23, 23, 23, 24,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127, 22, 23, 23, 23, 23, 23, 23, 24,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128, 69, 20, 21,
         19, 20, 50,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146, 22, 23, 23, 23, 23, 23, 23, 24,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146, 22, 23, 23, 23, 23, 23, 23, 24,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147, 69, 20, 21,
         19, 20, 20, 12, 12, 12, 12, 12, 12, 12,113,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165, 22, 23, 23, 23, 23, 23, 23, 24,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165, 22, 23, 23, 23, 23, 23, 23, 24,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,112, 12, 12, 12, 12, 12, 12, 12, 20, 20, 21,
         19, 20, 20, 20, 20, 20, 20, 20, 20, 20, 50,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108, 22, 23, 23, 23, 23, 23, 23, 24,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108, 22, 23, 23, 23, 23, 23, 23, 24,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109, 69, 20, 20, 20, 20, 20, 20, 20, 20, 20, 21,
         19, 20, 20, 20, 20, 20, 20, 20, 20, 20, 50,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127, 22, 23, 23, 23, 23, 23, 23, 24,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127, 22, 23, 23, 23, 23, 23, 23, 24,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128, 69, 20, 20, 20, 20, 20, 20, 20, 20, 20, 21,
         19, 20, 20, 31, 31, 31, 31, 31, 31, 31,132,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146, 22, 23, 23, 23, 23, 23, 23, 24,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146, 22, 23, 23, 23, 23, 23, 23, 24,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,131, 31, 31, 31, 31, 31, 31, 31, 20, 20, 21,
         19, 20, 50, 81, 82, 83, 84,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,  6,  7,  8, 22, 23, 23, 23, 23, 23, 23, 24,  9, 10, 11,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,  6,  7,  8, 22, 23, 23, 23, 23, 23, 23, 24,  9, 10, 11,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166, 81, 82, 83, 84, 69, 20, 21,
         19, 20, 50,100,101,102,103,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109, 25, 26, 27, 22, 23, 23, 23, 23, 23, 23, 24, 28, 29, 30,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109, 25, 26, 27, 22, 23, 23, 23, 23, 23, 23, 24, 28, 29, 30,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,100,101,102,103, 69, 20, 21,
         19, 20, 50,119,120,121,122,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128, 44, 45, 46, 22, 23, 23, 23, 23, 23, 23, 24, 47, 48, 49,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128, 44, 45, 46, 22, 23, 23, 23, 23, 23, 23, 24, 47, 48, 49,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,119,120,121,122, 69, 20, 21,
         19, 20, 50,138,139,140,141,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147, 63, 64, 65, 22, 23, 23, 23, 23, 23, 23, 24, 66, 67, 68,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147, 63, 64, 65, 22, 23, 23, 23, 23, 23, 23, 24, 66, 67, 68,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,138,139,140,141, 69, 20, 21,
         19, 20, 50,157,158,159,160,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165, 41, 42, 42, 42, 42, 42, 42, 43,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165, 41, 42, 42, 42, 42, 42, 42, 43,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,157,158,159,160, 69, 20, 21,
         19, 20, 50,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108, 60, 61, 61, 61, 61, 61, 61, 62,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108, 60, 61, 61, 61, 61, 61, 61, 62,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109, 69, 20, 21,
         19, 20, 50,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128, 69, 20, 21,
         19, 20, 50,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147, 69, 20, 21,
         19, 20, 50,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166, 69, 20, 21,
         19, 20, 50,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109, 69, 20, 21,
         19, 20, 50,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128, 69, 20, 21,
         19, 20, 50,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147, 69, 20, 21,
         19, 20, 50,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166, 69, 20, 21,
         19, 20, 50,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109, 69, 20, 21,
         19, 20, 50,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128,129,130,127,128, 69, 20, 21,
         19, 20, 50,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147,148,149,146,147, 69, 20, 21,
         19, 20, 50,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166,167,168,165,166, 69, 20, 21,
         19, 20, 50,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109,110,111,108,109, 69, 20, 21,
         19, 20, 20, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12,113, 57, 57, 57, 57,112, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 20, 20, 21,
         19, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 50, 57, 57, 57, 57, 69, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 21,
         38, 39, 39, 39, 39, 39, 39, 39, 39, 39, 39, 39, 39, 39, 39, 39, 39, 39, 39, 39, 39, 39, 39, 39, 39, 39, 39, 39, 39, 39, 39, 39, 39, 39, 39, 39, 39, 39, 39, 39, 39, 39, 39, 39, 39, 39, 39, 39, 39, 39, 39, 39, 39, 39, 39, 39, 39, 39, 39, 40, 57, 57, 57, 57, 38, 39, 39, 39, 39, 39, 39, 39, 39, 39, 39, 39, 39, 39, 39, 39, 39, 39, 39, 39, 39, 39, 39, 39, 39, 39, 39, 39, 39, 39, 39, 39, 39, 39, 39, 39, 39, 39, 39, 39, 39, 39, 39, 39, 39, 39, 39, 39, 39, 39, 39, 39, 39, 39, 39, 40,
    };

    m_tilesValidos = {
        108, 109, 110, 111, 127, 128, 129, 130, 146, 147, 148, 149, 165, 166, 167, 168
    };

    if (m_tilesBase.size() != m_ancho * m_alto) {
        std::cerr << "❌ ERROR: m_tilesBase tiene tamaño incorrecto. Esperado: "
                  << m_ancho * m_alto << ", Obtenido: " << m_tilesBase.size() << std::endl;
    }
}

void Biblioteca::ejecutarMapa() {

    // Verificar que los vectores tengan datos
    if (m_tilesBase.empty()) {
        std::cerr << "❌ ERROR: m_tilesBase está vacío" << std::endl;
        return;
    }

    if (!m_tilemapBase.load("assets/Tilesets/libreria.png", sf::Vector2u(16, 16),
                          m_tilesBase, m_ancho, m_alto)) {
        std::cerr << "❌ ERROR cargando el tilemap base" << std::endl;
    }
}

void Biblioteca::actualizar() {
    float deltaTime = m_clock.restart().asSeconds();
    m_ruleta.actualizar(deltaTime);

    m_personaje.actualizar(m_tilesBase, m_ancho, m_alto);
    m_personaje.setTilesValidos(m_tilesValidos);

    sf::FloatRect personajeBounds = m_personaje.obtenerHitbox();
    sf::FloatRect triggerArea = m_areaSalida.getGlobalBounds();

    bool colision = (personajeBounds.position.x < triggerArea.position.x + triggerArea.size.x) &&
                    (personajeBounds.position.x + personajeBounds.size.x > triggerArea.position.x) &&
                    (personajeBounds.position.y < triggerArea.position.y + triggerArea.size.y) &&
                    (personajeBounds.position.y + personajeBounds.size.y > triggerArea.position.y);

    if (colision) {
        std::cout << "🚪 Saliendo de la biblioteca..." << std::endl;
        gestor->sacarEstado();
        m_personaje.setPosition(915,300);
    }
}

Biblioteca::~Biblioteca() {

}

void Biblioteca::manejarEventos(sf::RenderWindow& window) {
    while (auto event = m_window.pollEvent()) {
        if (event->is<sf::Event::Closed>()) {
            m_window.close();
            return;
        }

        if (auto keyEvent = event->getIf<sf::Event::KeyPressed>()) {
            if (keyEvent->code == sf::Keyboard::Key::Space) {
                interaccionRuleta();
            }
        }
    }
}

void Biblioteca::ejecutarBiblioteca() {
    bool saliendo = false;

    m_clock.restart();

    while (m_window.isOpen() && !saliendo) {

        actualizar();

        // 3. Dibujar
        m_window.clear(sf::Color::White);
        dibujar(m_window);
        m_window.display();
    }

}

void Biblioteca::dibujar(sf::RenderWindow& window) {
    window.draw(m_tilemapBase);
    window.draw(m_areaSalida);
    m_personaje.dibujar(window);
    m_ruleta.dibujar(window);
}

void Biblioteca::interaccionRuleta() {
    // Lógica para girar la ruleta solo si el personaje está cerca
    sf::Vector2f posRuleta = m_ruleta.getPosition();
    sf::Vector2f posPersonaje = m_personaje.getPosition();

    // Calcular la distancia cuadrada
    float distanciaX = posRuleta.x - posPersonaje.x;
    float distanciaY = posRuleta.y - posPersonaje.y;
    float distanciaCuadrada = (distanciaX * distanciaX) + (distanciaY * distanciaY);

    if (distanciaCuadrada < (RADIO_INTERACCION_RULETA * RADIO_INTERACCION_RULETA)) {
        // Genera una velocidad inicial aleatoria para la sensación de "giro"
        float velocidadInicial = 1000.0f + (rand() % 800);
        m_ruleta.iniciarGiro(velocidadInicial);
        std::cout << "¡Ruleta girando!" << std::endl;
    } else {
        std::cout << "Debes acercarte a la ruleta para girarla (radio de " << RADIO_INTERACCION_RULETA << "px)." << std::endl;
    }
}
